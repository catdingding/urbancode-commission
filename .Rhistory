Sys.which("pdftotext")
Sys.which("pdftotext")
setwd("E:/SkyDrive/GitHub/urbancode-commission")
load("E:/SkyDrive/GitHub/urbancode-commission/.RData")
readLines("./record/tpup/txt/670.txt")
readLines("./record/tpup/txt/tpup670.txt")
?readLines
readLines("./record/tpup/txt/tpup670.txt",encoding="utf-8")
readLines("./record/tpup/txt/tpup670.txt",encoding="UTF-8")
txt<-readLines("./record/tpup/txt/tpup670.txt",encoding="UTF-8")
txt
gsub(" ","",txt)
txt
?split
txt2<-gsub(" ","",txt)
?splitstring
??splitstring
?strsplit
?split
View(txt2)
txt2
txt
txt[1:10]
txt[11:20]
grepl("壹",txt)
grepl("壹",txt)
txt[grepl("壹",txt)]
txt[grepl("壹|貳",txt)]
txt[grepl("壹|貳|參|肆",txt)]
txt[grepl("壹|貳|參|肆|伍|陸|柒",txt)]
txt[grepl("^壹|貳|參|肆|伍|陸|柒|捌|玖|拾",txt)]
txt[grepl("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)]
txt[1:20]
?grep
regexpr("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
gregexpr("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
regexer("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
regexec("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
grep("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
section.indicator<-grep("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
section.title<-txt[grepl("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)]
section.indicator
1:section.indicator[1]
section1<-txt[1:section.indicator[1]]
section1
section1<-txt[1:section.indicator[1]-1]
section1
section2<-txt[section.indicator[1]:section.indicator[2]-1]
s.indicator<-grep("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
s.title<-txt[grepl("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)]
section1<-txt[1:s.indicator[1]-1]
section2<-txt[s.indicator[1]:s.indicator[2]-1]
section3<-txt[s.indicator[2]:s.indicator[3]-1]
txt<-readLines("./record/tpup/txt/tpup670.txt",encoding="UTF-8")
txt2<-gsub(" ","",txt)
s.indicator<-grep("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
s.title<-txt[grepl("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)]
s1<-txt[1:s.indicator[1]-1]
s2<-txt[s.indicator[1]:s.indicator[2]-1]
s3<-txt[s.indicator[2]:s.indicator[3]-1]
s3
s.indicator
txt
s4<-txt[s.indicator[3]:]
s4<-txt[s.indicator[3]:nrows[txt]]
s4<-txt[s.indicator[3]:nrow[txt]]
s4<-txt[s.indicator[3]:nrow(txt)]
txt
length(txt)
s4<-txt[s.indicator[3]:length(txt)]
s1
s2
s3
s4
s1
s2
grepl("*-*-",s2)
s2[grepl("*-*-",s2)]
s2[grepl("*-*-$",s2)]
grep("*-*-$",s2)
s2[grep("*-*-$",s2)]
s2[!grep("*-*-$",s2)]
??[]
??subset
grep("*-*-$",s2)
grep("*-*-$",s2)
grep("*-*-$",s2)
!grep("*-*-$",s2)
grep("*-*-$",s2)
grepl("*-*-$",s2)
!grepl("*-*-$",s2)
s2[!grepl("*-*-$",s2)]
txt[!grepl("*-*$",txt)]
grepl("*-*$",txt)
txt[!grepl("*-*-$",txt)]
txt<-readLines("./record/tpup/txt/tpup670.txt",encoding="UTF-8")
txt<-txt[!grepl("*-*-$",txt)]
txt2<-gsub(" ","",txt)
s.indicator<-grep("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)
s.title<-txt[grepl("^(壹|貳|參|肆|伍|陸|柒|捌|玖|拾)",txt)]
s1<-txt[1:s.indicator[1]-1]
s2<-txt[s.indicator[1]:s.indicator[2]-1]
s3<-txt[s.indicator[2]:s.indicator[3]-1]
s4<-txt[s.indicator[3]:length(txt)]
s1
s2
s3
s4
s2
s3
s4
