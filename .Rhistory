setwd("D:/GitHub/urbancode-commission")
library(bitops)
library(RCurl)
library(XML)
Sys.setlocale(category='LC_ALL', locale='C')
get_url<-getURL("http://bud.tainan.gov.tw/doc/CityBoard_new2.aspx", encoding="utf-8")
get_url_parse<-htmlParse(get_url, encoding="utf-8")
xpathSApply(get_url_parse,"//div[@class='list']/ul/li/a",xmlAttrs)
xpathSApply(get_url_parse,"//td/a",xmlAttrs)
get_url<-getURL("http://bud.tainan.gov.tw/doc/CityBoard_new2.aspx", encoding="big")
get_url_parse<-htmlParse(get_url, encoding="big5")
xpathSApply(get_url_parse,"//td/a",xmlAttrs)
get_url<-getURL("http://bud.tainan.gov.tw/doc/CityBoard_new2.aspx", encoding="big5")
get_url_parse<-htmlParse(get_url, encoding="big5")
xpathSApply(get_url_parse,"//td/a",xmlAttrs)
xpathSApply(get_url_parse,"//title",xmlAttrs)
xpathSApply(get_url_parse,"//title",xmlValue)
get_url<-getURL("http://bud.tainan.gov.tw/doc/CityBoard_new2.aspx", encoding="utf-8")
get_url_parse<-htmlParse(get_url, encoding="utf-8")
xpathSApply(get_url_parse,"//title",xmlValue)
xpathSApply(get_url_parse,"//table/td",xmlValue)
xpathSApply(get_url_parse,"//table/tr/td",xmlValue)
xpathSApply(get_url_parse,"//table/tr/td/a",xmlValue)
xpathSApply(get_url_parse,"//table["class='p1']/tr/td/a",xmlValue)
xpathSApply(get_url_parse,"//table["class"='p1']/tr/td/a",xmlValue)
xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a",xmlValue)
xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a",xmlAttrs)
xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a",xmlValue)
link <- data.frame(item,url,stringsAsFactors = FALSE)
item <- xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a",xmlValue)
url <- xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a",xmlAttrs)
link <- data.frame(item,url,stringsAsFactors = FALSE)
url
url[1,]
url[1,2]
url[,2]
url <- xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a[@herf]",xmlAttrs)
url
url <- xpathSApply(get_url_parse,"//table[@class='p1']/tr/td/a[@href]",xmlAttrs)
url
link <- data.frame(item,url,stringsAsFactors = FALSE)
item
url
url[1]
url[1,]
url[2,]
View(url)
link <- data.frame(item,url[1,],stringsAsFactors = FALSE)
link
View(link)
linl[1,]
link[1,]
Encoding(link[1,])
link[1,]
link[,1]
Encoding(link[,1])
